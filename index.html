<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xceed-js ¬∑ Elite Web Engineering</title>
    <meta name="description" content="xceed-js crafts elite, high-performance websites and web applications. Our team of IIT/NIT alumni specializes in turning complex challenges into elegant digital solutions.">
    <meta name="keywords" content="web development, web design, javascript, react, vercel, iit, nit, professional websites, n8n automation, three.js, webgl, matter.js, physics simulation">
    

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí´</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

    <style>
        :root {
            --color-brand-start: #8B5CF6; /* violet-500 */
            --color-brand-end: #3B82F6; /* blue-500 */
            --color-accent-1: #EC4899; /* pink-500 */
            --color-accent-2: #F59E0B; /* amber-500 */
            --color-accent-3: #10B981; /* emerald-500 */
        }
        
        html.dark {
             --color-brand-start: #A78BFA; /* violet-400 */
             --color-brand-end: #60A5FA; /* blue-400 */
        }

        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: #f8fafc; /* slate-50 */
        }
        html.dark body {
            background-color: #020617; /* slate-950 */
            background-image: radial-gradient(circle at 1px 1px, #1e293b 1px, transparent 0);
            background-size: 2rem 2rem;
        }

        .brand-gradient-text {
            background-image: linear-gradient(90deg, var(--color-brand-start), var(--color-brand-end));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .brand-gradient-bg {
            background-image: linear-gradient(90deg, var(--color-brand-start), var(--color-brand-end));
        }
        
        .glowing-underline { position: relative; }
        .glowing-underline::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 2px;
            border-radius: 2px;
            background: linear-gradient(90deg, var(--color-brand-start), var(--color-brand-end));
            box-shadow: 0 0 8px var(--color-brand-end);
            transform: scaleX(0);
            transform-origin: center;
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .glowing-underline:hover::after {
            transform: scaleX(1);
        }

        /* Morphing Blob Animation */
        @keyframes morph {
            0% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
            50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
            100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
        }
        .morphing-blob { animation: morph 12s ease-in-out infinite both; }
        
        /* Testimonial Marquee Animation */
        .marquee-content { animation: marquee 40s linear infinite; }
        @keyframes marquee {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* Quantum Portal Animation */
        #portal-container.active #portal-canvas {
            animation: glitch-in 0.7s forwards;
        }
        @keyframes glitch-in {
            0% { transform: scale(0); opacity: 0; filter: blur(20px); }
            50% { opacity: 1; filter: blur(5px); }
            100% { transform: scale(1); opacity: 1; filter: blur(0); }
        }
        
        #form-panel.materializing {
            animation: materialize 0.5s 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }
        @keyframes materialize {
            from { opacity: 0; transform: translateY(50px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .form-step {
            display: none;
        }
        .form-step.active {
            display: block;
            animation: slide-in 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }
        @keyframes slide-in {
           from { opacity: 0; transform: translateX(30px); }
           to { opacity: 1; transform: translateX(0); }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }



#preloader 
{
    
    height: 100vh;
    width: 100%;
    background-color: #020617;
    /* background-color: red; */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 99999;
    transition : opacity 0.75s ease ;
}

#spinner 
{
height: 50px;
width: 50px;
border: 5px solid #1e293b;
border-top:5px solid #A78BFA;
border-radius: 50%;
animation: spin 1s linear infinite ;
}

@keyframes spin 
{
to  {
        transform: rotate(360deg);
    }
}


    </style>

    <script>
        // Set initial theme based on localStorage or system preference
        if (localStorage.theme === 'light') {
            document.documentElement.classList.remove('dark');
        } else {
            document.documentElement.classList.add('dark');
        }

        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            start: 'var(--color-brand-start)',
                            end: 'var(--color-brand-end)'
                        },
                        accent: {
                            1: 'var(--color-accent-1)',
                            2: 'var(--color-accent-2)',
                            3: 'var(--color-accent-3)'
                        },
                        'slate-950': '#020617',
                    }
                }
            }
        }
    </script>
</head>




<body class="text-slate-800 dark:text-slate-200 transition-colors duration-300">

    <div id="preloader">
        <div id="spinner"></div>
    </div>

    <header class="sticky top-0 z-40 bg-slate-50/80 dark:bg-slate-950/70 backdrop-blur-xl border-b border-slate-200/80 dark:border-slate-800/80">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-3 group" aria-label="xceed-js homepage">
                <img src="logo.png" alt="xceed-js logo" class="h-9 w-12 transition-transform duration-500 ease-out group-hover:rotate-[360deg] rounded-full">
                <span class="text-xl font-bold tracking-tight text-slate-900 dark:text-white">xceed-js</span>
            </a>
            <div class="hidden md:flex items-center space-x-8 text-sm font-medium text-slate-700 dark:text-slate-300">
                <a href="#sparks" class="glowing-underline">Capabilities</a>
                <a href="#process" class="glowing-underline">Process</a>
                <a href="#testimonials" class="glowing-underline">Testimonials</a>
            </div>
            <a href="#contact" id="contact-button-header" class="hidden md:block px-4 py-2 text-sm font-semibold text-white brand-gradient-bg rounded-lg shadow-lg hover:shadow-blue-500/30 dark:hover:shadow-blue-400/20 transition-all duration-300 transform hover:scale-105">
                Start a Project
            </a>
        </nav>
    </header>

    <main>
        <section class="container mx-auto px-6 py-24 md:py-40 text-center relative overflow-hidden">
            <div class="absolute inset-0 -z-10 flex items-center justify-center">
                <div class="morphing-blob w-[500px] h-[500px] md:w-[800px] md:h-[800px] brand-gradient-bg opacity-10 dark:opacity-20 blur-3xl"></div>
            </div>
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-black tracking-tighter mb-6 leading-tight">
                We Build <span class="brand-gradient-text">Elite</span> Digital Experiences.
            </h1>
            <p class="text-lg md:text-xl max-w-3xl mx-auto text-slate-600 dark:text-slate-400 mb-10">
                From pixel-perfect designs to high-performance web applications, we translate your most complex visions into elegant, scalable, and secure digital solutions.
            </p>
            <div class="flex justify-center items-center space-x-4">
                <a href="#contact" id="contact-button-hero" class="px-8 py-4 text-lg font-bold text-white brand-gradient-bg rounded-xl shadow-2xl shadow-blue-500/20 dark:shadow-blue-400/10 hover:shadow-blue-500/40 dark:hover:shadow-blue-400/20 transition-all duration-300 transform hover:scale-105">
                    Let's Discuss Your Project
                </a>
            </div>
        </section>

        <section class="py-20 bg-slate-100 dark:bg-slate-900">
            <div class="container mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="differentiator-card">
                        <div class="card-icon">üéì</div>
                        <h3 class="card-title">IIT/NIT Core Team</h3>
                        <p class="card-description">Leverage top-tier engineering talent for robust, scalable, and technically superior solutions.</p>
                    </div>
                    <div class="differentiator-card">
                        <div class="card-icon">üöÄ</div>
                        <h3 class="card-title">Performance Obsessed</h3>
                        <p class="card-description">We build for speed. Every line of code is optimized for lightning-fast load times and a seamless user experience.</p>
                    </div>
                    <div class="differentiator-card">
                        <div class="card-icon">ü§ù</div>
                        <h3 class="card-title">Agile & Transparent</h3>
                        <p class="card-description">Our collaborative process keeps you in the loop with regular updates, ensuring the final product is exactly what you envisioned.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="sparks" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-5xl font-bold tracking-tight">Capabilities Showcase</h2>
                    <p class="mt-4 text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">
                        We blend creativity with technology. Here are a few advanced capabilities we can integrate into your project.
                    </p>
                    <p id="dynamic-idea-text" class="mt-4 text-base brand-gradient-text font-semibold h-6 transition-all duration-300">Interact with a showcase to learn more.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    </div>
            </div>
        </section>

        <section id="process" class="py-24 bg-slate-100 dark:bg-slate-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-5xl font-bold tracking-tight">Our Blueprint for Success</h2>
                    <p class="mt-4 text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">A transparent, collaborative, and battle-tested process ensures we deliver excellence, every time.</p>
                </div>
                <div class="w-full max-w-4xl mx-auto">
                    <div class="flex justify-between items-center relative mb-8">
                        <div class="absolute top-1/2 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 -translate-y-1/2">
                            <div id="process-progress-bar" class="h-full brand-gradient-bg transition-all duration-500" style="width: 0%;"></div>
                        </div>
                        <div class="flex justify-between w-full">
                           <button class="process-step" data-step="1" data-progress="12.5%">
                               <div class="step-dot">1</div><span class="step-label">Discovery</span>
                           </button>
                           <button class="process-step" data-step="2" data-progress="37.5%">
                               <div class="step-dot">2</div><span class="step-label">Design</span>
                           </button>
                           <button class="process-step" data-step="3" data-progress="62.5%">
                               <div class="step-dot">3</div><span class="step-label">Develop</span>
                           </button>
                           <button class="process-step" data-step="4" data-progress="100%">
                               <div class="step-dot">4</div><span class="step-label">Deploy</span>
                           </button>
                        </div>
                    </div>
                    <div id="process-content-container" class="mt-8 p-8 bg-white dark:bg-slate-800/50 rounded-xl shadow-lg min-h-[150px]">
                        </div>
                </div>
            </div>
        </section>

        <section id="testimonials" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-5xl font-bold tracking-tight">Engineered by Experts, Trusted by Leaders</h2>
                    <p class="mt-4 text-lg text-slate-600 dark:text-slate-400">Our core team comprises alumni from India's top engineering institutes, <b class="brand-gradient-text">the IITs & NITs</b>.</p>
                </div>
                <div class="relative w-full overflow-hidden [mask-image:linear-gradient(to_right,transparent,white_10%,white_90%,transparent)]">
                    <div class="flex marquee-content">
                        </div>
                </div>
            </div>
        </section>
        
        <section id="contact" class="py-24">
            <div class="container mx-auto px-6 text-center">
                 <h2 class="text-3xl md:text-5xl font-bold tracking-tight">Have an idea? Let's make it a reality.</h2>
                 <p class="mt-4 text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">We're ready to dive into your project, understand your goals, and build a solution that exceeds your expectations.</p>
                 <button id="contact-button-cta" class="mt-10 px-8 py-4 text-lg font-bold text-white brand-gradient-bg rounded-xl shadow-2xl shadow-blue-500/20 dark:shadow-blue-400/10 hover:shadow-blue-500/40 dark:hover:shadow-blue-400/20 transition-all duration-300 transform hover:scale-105">
                     Get Your Free Quote
                 </button>
            </div>
        </section>
    </main>

    <div class="fixed bottom-5 right-5 z-50 group">
        <div class="relative flex flex-col items-center space-y-3">
            <button id="theme-toggle" aria-label="Toggle dark and light mode" class="fab-button opacity-0 transform translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-200">
                <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                <svg id="theme-icon-dark" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
            </button>
            <button id="fab-main" aria-label="Open contact options" class="w-16 h-16 brand-gradient-bg rounded-full flex items-center justify-center text-white shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:rotate-90">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 transition-transform duration-300 group-hover:rotate-45" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
            </button>
        </div>
    </div>


    <div id="portal-container" class="fixed inset-0 z-[99] flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-500">
        <div id="portal-overlay" class="absolute inset-0 bg-black/80"></div>
        
        <canvas id="portal-canvas" class="absolute inset-0 w-full h-full"></canvas>

        <div id="form-panel" role="dialog" aria-modal="true" aria-labelledby="form-title" class="relative z-10 w-full max-w-lg p-6 md:p-8 bg-slate-800/50 dark:bg-slate-900/60 rounded-2xl shadow-2xl opacity-0 backdrop-blur-md" style="will-change: transform, opacity;">
            <button id="form-close-btn" class="absolute top-4 right-4 text-slate-400 hover:text-white transition" aria-label="Close contact form">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            
            <div id="form-content">
                <form id="contact-form" novalidate>
                    <div class="mb-4">
                        <div class="w-full bg-slate-700 rounded-full h-1.5">
                            <div id="form-progress-bar" class="brand-gradient-bg h-1.5 rounded-full transition-all duration-500" style="width: 20%"></div>
                        </div>
                    </div>

                    <div id="form-step-1" class="form-step active">
                        <h2 class="text-2xl font-bold mb-2 text-white">Let's build something great.</h2>
                        <p class="text-slate-400 mb-6">First, what should we call you?</p>
                        <div class="form-group"><label for="full_name">Full Name</label><input type="text" id="full_name" name="full_name" required></div>
                        <button type="button" data-next="2" class="form-next-btn w-full mt-6">Next</button>
                    </div>

                    <div id="form-step-2" class="form-step">
                        <h2 class="text-2xl font-bold mb-2 text-white">Nice to meet you, <span id="form-user-name"></span>!</h2>
                        <p class="text-slate-400 mb-6">What's the best email to reach you at?</p>
                        <div class="form-group"><label for="email">Email Address</label><input type="email" id="email" name="email" required></div>
                        <div class="flex space-x-4 mt-6">
                            <button type="button" data-prev="1" class="form-prev-btn w-1/3">Back</button>
                            <button type="button" data-next="3" class="form-next-btn w-2/3">Next</button>
                        </div>
                    </div>
                    
                    <div id="form-step-3" class="form-step">
                        <h2 class="text-2xl font-bold mb-2 text-white">What can we help you with?</h2>
                        <p class="text-slate-400 mb-6">Select all that apply.</p>
                         <div class="grid grid-cols-2 gap-4">
                             <button type="button" class="form-choice-btn" data-value="Logo only"><span class="text-2xl">üé®</span> Logo Only</button>
                             <button type="button" class="form-choice-btn" data-value="Website only"><span class="text-2xl">üåê</span> Website Only</button>
                             <button type="button" class="form-choice-btn" data-value="Both"><span class="text-2xl">‚ú®</span> Logo + Website</button>
                             <button type="button" class="form-choice-btn" data-value="N8N automation"><span class="text-2xl">‚öôÔ∏è</span> N8N Automation</button>
                         </div>
                        <input type="hidden" id="project_type" name="project_type" required>
                        <div class="flex space-x-4 mt-6">
                            <button type="button" data-prev="2" class="form-prev-btn w-1/3">Back</button>
                            <button type="button" data-next="4" class="form-next-btn w-2/3">Next</button>
                        </div>
                    </div>

                    <div id="form-step-4" class="form-step">
                        <h2 class="text-2xl font-bold mb-2 text-white">What's your budget?</h2>
                        <p class="text-slate-400 mb-6">This helps us scope the project appropriately.</p>
                        <div class="form-group">
                           <label for="budget_slider">Budget (<span id="currency-symbol">‚Çπ</span><span id="budget-value">15,000</span>)</label>
                           <input type="range" id="budget_slider" min="5000" max="100000" step="1000" value="15000" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <input type="hidden" id="budget" name="budget" required>
                         <div class="flex space-x-4 mt-6">
                            <button type="button" data-prev="3" class="form-prev-btn w-1/3">Back</button>
                            <button type="button" data-next="5" class="form-next-btn w-2/3">Next</button>
                        </div>
                    </div>
                    
                    <div id="form-step-5" class="form-step">
                        <h2 class="text-2xl font-bold mb-2 text-white">Anything else we should know?</h2>
                        <p class="text-slate-400 mb-6">Briefly describe your project or any specific requirements.</p>
                         <div class="form-group">
                             <label for="notes" class="sr-only">Brief Description / Notes</label>
                             <textarea id="notes" name="notes" rows="4" placeholder="e.g., 'I need a fast e-commerce site for my clothing brand...'"></textarea>
                         </div>
                         <div class="flex space-x-4 mt-6">
                            <button type="button" data-prev="4" class="form-prev-btn w-1/3">Back</button>
                            <button type="submit" id="form-submit-btn" class="w-2/3">Send Inquiry</button>
                        </div>
                    </div>

                    <input type="hidden" name="entry.2111088084" id="entry-full_name">
                    <input type="hidden" name="entry.1876766686" id="entry-email">
                    <input type="hidden" name="entry.1402932116" id="entry-project_type">
                    <input type="hidden" name="entry.1892049098" id="entry-budget">
                    <input type="hidden" name="entry.1330106184" id="entry-currency">
                    <input type="hidden" name="entry.878154817" id="entry-country">
                    <input type="hidden" name="entry.1371636187" id="entry-city">
                    <input type="hidden" name="entry.2124744326" id="entry-notes">
                </form>
            </div>
            
            <div id="success-panel" class="hidden text-center p-8">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto mb-4 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <h2 class="text-2xl font-bold mb-2 text-white">Transmission Received!</h2>
                <p class="text-slate-400 mb-4">Thank you. Your project details have landed. We'll be in touch within 24 hours.</p>
                <p id="emailjs-status" class="text-sm text-slate-500"></p>
            </div>
        </div>
    </div>
    
    <footer class="bg-slate-100 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800">
        <div class="container mx-auto px-6 py-8 text-center text-slate-500 dark:text-slate-400">
            <p>&copy; 2025 xceed-js. All Rights Reserved. An IIT/NIT Alumni Venture.</p>
            <p class="text-sm mt-2">Engineered with üí´ in Pilani, India.</p>
        </div>
    </footer>

    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="if(this.getAttribute('data-submitted') === 'true')
    {console.log() ; window.xceedApp.handleFormSuccess()}"
    >
    </iframe>

    <script type="module">
        // --- DATA FOR DYNAMIC CONTENT ---
        const sparksData = [
             {
                title: 'Digital Code Rain',
                idea: 'A lightweight, high-performance canvas animation simulating a digital matrix effect.',
                html: `<div class="w-full h-64 bg-slate-900 rounded-lg overflow-hidden relative"><canvas id="code-rain-canvas"></canvas></div>`
            },
            {
                title: 'Generative Particle Nexus',
                idea: 'An interactive canvas where thousands of particles react to your cursor.',
                html: `<div id="particle-nexus-container" class="w-full h-64 bg-slate-900 rounded-lg cursor-pointer"></div>`
            },
            {
                title: 'Physics-Based Interface',
                idea: 'DOM elements behaving with real-world physics, powered by Matter.js.',
                html: `<div id="physics-container" class="w-full h-64 bg-slate-200 dark:bg-slate-800 rounded-lg overflow-hidden relative"></div>`
            },
            {
                title: 'Live GLSL Shader Editor',
                idea: 'A text area that live-compiles a fragment shader, showcasing graphical programming skill.',
                html: `<div class="w-full h-64 rounded-lg bg-slate-900 flex flex-col md:flex-row gap-2 p-2">
                    <textarea id="glsl-code" class="w-full md:w-1/2 h-1/2 md:h-full bg-gray-950 text-pink-400 font-mono text-xs p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-end"></textarea>
                    <canvas id="glsl-canvas" class="w-full md:w-1/2 h-1/2 md:h-full rounded-md"></canvas>
                </div>`
            },
            {
                title: 'Advanced SVG Icon Morphing',
                idea: 'Fluidly animate an SVG icon through multiple complex states on click.',
                html: `<div class="w-full h-64 bg-slate-200 dark:bg-slate-800 rounded-lg flex items-center justify-center cursor-pointer">
                    <svg id="morphing-svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M7 8L3 12L7 16 M17 8L21 12L17 16 M14 4L10 20" />
                    </svg>
                </div>`
            },
            {
                title: 'WebAssembly Performance Demo',
                idea: 'A side-by-side comparison of a complex calculation in JS vs. simulated WebAssembly.',
                html: `<div class="w-full h-64 bg-slate-200 dark:bg-slate-800 rounded-lg p-4 flex flex-col justify-center items-center text-center">
                    <p class="mb-4 text-slate-600 dark:text-slate-400">Calculate Mandelbrot Set</p>
                    <div class="flex gap-4">
                        <button id="run-js" class="px-4 py-2 bg-amber-500 text-white rounded-md">Run in JS</button>
                        <button id="run-wasm" class="px-4 py-2 bg-emerald-500 text-white rounded-md">Run in Wasm (Simulated)</button>
                    </div>
                    <p id="wasm-result" class="mt-4 font-mono text-sm h-10"></p>
                </div>`
            },
        ];

        const processData = {
            1: { title: "Discovery & Strategy", description: "We start by diving deep into your business goals, target audience, and project requirements. This collaborative phase ensures we're all aligned on the vision and sets the foundation for a successful project." },
            2: { title: "UI/UX Design & Prototyping", description: "Our design team crafts intuitive, user-centric interfaces that are both beautiful and functional. We create high-fidelity mockups and interactive prototypes, allowing you to experience the look and feel of your project." },
            3: { title: "Agile Development", description: "Our expert developers bring the designs to life using clean, efficient, and scalable code. We follow agile methodologies, providing regular updates and builds for your review." },
            4: { title: "Deployment & Optimization", description: "We handle the entire deployment process to a secure, scalable hosting environment. Post-launch, we perform rigorous performance optimization, set up analytics, and ensure everything is running smoothly." }
        };
        
        const testimonialsData = [
            { quote: "The final product was beyond our expectations. A truly professional and talented team.", author: "Ankit Sharma, CEO of InnovateU" },
            { quote: "Their attention to detail and commitment to quality is unmatched. Highly recommended.", author: "Priya Singh, Founder of TechGirls" },
            { quote: "xceed-js transformed our outdated site into a modern, fast, and lead-generating machine.", author: "Rohan Mehta, Marketing Head" },
            { quote: "Working with a team of IIT/NIT grads made a huge difference. The technical expertise was evident.", author: "Dr. Alok Verma, Researcher" },
        ];
        
        // --- MAIN APP LOGIC ---
        const App = {
            config: {
                googleFormActionURL: 'https://docs.google.com/forms/d/e/1FAIpQLScEm1jyIGPlPGmMVU4-O8lskLSAxt9UNzptgXEwbJfehiYm-Q/formResponse',
                emailJsServiceId: 'service_vtua7jn',
                emailJsTemplateId: 'template_q2zh16g',
                emailJsPublicKey: 'JtiM8l6774Bikgh1V',
                priceMultiplier: 2.5,
            },  
            state: { isPortalVisible: false, visitorInfo: null, lastSubmission: null, formStep: 1, formTotalSteps: 5 },
            elements: {},
            three: {}, 
            matter: {}, 
            
            init() {
                window.xceedApp = this;
                this.cacheElements();
                this.injectDynamicContent();
                console.log("Checkpoint : 1");
                this.initTheme();
                console.log("Checkpoint : 2");
                this.initGeolocationAndPricing();
                console.log("Checkpoint : 3");
                this.bindEvents();
                console.log("Checkpoint : 4");
                this.initSparks();
                console.log("Checkpoint : 5");
                this.initProcessSection();
                console.log("Checkpoint : 6");
            },

            cacheElements() {
                this.elements = {
                    html: document.documentElement,
                    body: document.body,
                    themeToggle: document.getElementById('theme-toggle'),
                    iconLight: document.getElementById('theme-icon-light'),
                    iconDark: document.getElementById('theme-icon-dark'),
                    fabMain: document.getElementById('fab-main'),
                    contactButtons: document.querySelectorAll('#contact-button-header, #contact-button-hero, #contact-button-cta'),
                    portalContainer: document.getElementById('portal-container'),
                    portalCanvas: document.getElementById('portal-canvas'),
                    portalOverlay: document.getElementById('portal-overlay'),
                    formPanel: document.getElementById('form-panel'),
                    formCloseBtn: document.getElementById('form-close-btn'),
                    contactForm: document.getElementById('contact-form'),
                    formContent: document.getElementById('form-content'),
                    successPanel: document.getElementById('success-panel'),
                    emailjsStatus: document.getElementById('emailjs-status'),
                    hiddenIframe: document.getElementById('hidden_iframe'),
                    sparksContainer: document.querySelector('#sparks .grid'),
                    dynamicIdeaText: document.getElementById('dynamic-idea-text'),
                    processSteps: document.querySelectorAll('.process-step'),
                    processProgressBar: document.getElementById('process-progress-bar'),
                    processContentContainer: document.getElementById('process-content-container'),
                    testimonialsContainer: document.querySelector('#testimonials .marquee-content'),
                    formProgressBar: document.getElementById('form-progress-bar'),
                    formSteps: document.querySelectorAll('.form-step'),
                    formNextBtns: document.querySelectorAll('.form-next-btn'),
                    formPrevBtns: document.querySelectorAll('.form-prev-btn'),
                    formChoiceBtns: document.querySelectorAll('.form-choice-btn'),
                    userNameSpan: document.getElementById('form-user-name'),
                    currencySymbol: document.getElementById('currency-symbol'),
                    budgetSlider: document.getElementById('budget_slider'),
                    budgetValue: document.getElementById('budget-value'),
                };
            },

            injectDynamicContent() {
                this.elements.sparksContainer.innerHTML = sparksData.map(spark => `
                    <div class="spark-card" data-idea="${spark.idea}">
                        <h3 class="spark-title">${spark.title}</h3>
                        ${spark.html}
                    </div>
                `).join('');
                
                const testimonialHTML = testimonialsData.map(t => `
                    <div class="testimonial-card">
                        <p class="text-slate-800 dark:text-slate-200">"${t.quote}"</p>
                        <p class="mt-4 font-semibold text-slate-600 dark:text-slate-400 text-sm">- ${t.author}</p>
                    </div>
                `).join('');
                this.elements.testimonialsContainer.innerHTML = testimonialHTML + testimonialHTML;
            },

            bindEvents() {
                this.elements.themeToggle.addEventListener('click', () => this.toggleTheme());
                this.elements.contactButtons.forEach(btn => btn.addEventListener('click', (e) => { e.preventDefault(); this.showPortal(); }));
                this.elements.fabMain.addEventListener('click', () => this.showPortal());
                this.elements.formCloseBtn.addEventListener('click', () => this.hidePortal());
                this.elements.portalOverlay.addEventListener('click', () => this.hidePortal());
                document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && this.state.isPortalVisible) this.hidePortal(); });
                this.elements.contactForm.addEventListener('submit', (e) => this.handleFormSubmit(e));
                
                this.elements.formNextBtns.forEach(btn => btn.addEventListener('click', () => this.changeFormStep(1)));
                this.elements.formPrevBtns.forEach(btn => btn.addEventListener('click', () => this.changeFormStep(-1)));
                this.elements.formChoiceBtns.forEach(btn => btn.addEventListener('click', (e) => this.handleFormChoice(e.currentTarget)));
                this.elements.budgetSlider.addEventListener('input', e => this.updateBudgetValue(e.target.value));

                this.elements.processSteps.forEach(step => step.addEventListener('click', () => this.updateProcessView(step.dataset.step)));
            },

            initTheme() {
                const isDark = document.documentElement.classList.contains('dark');
                this.elements.iconDark.style.display = isDark ? 'block' : 'none';
                this.elements.iconLight.style.display = isDark ? 'none' : 'block';
            },

            toggleTheme() {
                document.documentElement.classList.toggle('dark');
                localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                this.initTheme();
            },
            
            showPortal() {
                if (this.state.isPortalVisible) return;
                this.state.isPortalVisible = true;
                this.elements.portalContainer.classList.remove('opacity-0', 'pointer-events-none');
                this.elements.portalContainer.classList.add('active');
                this.elements.body.style.overflow = 'hidden';

                this.initPortalCanvas();
                
                setTimeout(() => {
                    this.elements.formPanel.classList.add('materializing');
                    this.trapFocus(this.elements.formPanel);
                }, 200);
            },

            hidePortal() {
                if (!this.state.isPortalVisible) return;
                this.state.isPortalVisible = false;
                this.elements.formPanel.classList.remove('materializing');
                this.elements.formPanel.style.opacity = '0';
                
                if (this.three.portalParticles) {
                    anime({
                        targets: this.three.portalParticles.material,
                        opacity: 0,
                        duration: 500,
                        easing: 'easeInOutQuad',
                        complete: () => {
                             this.elements.portalContainer.classList.add('opacity-0', 'pointer-events-none');
                             this.elements.portalContainer.classList.remove('active');
                             this.elements.body.style.overflow = '';
                             this.releaseFocus();
                             if (this.three.portalAnimationId) cancelAnimationFrame(this.three.portalAnimationId);
                             setTimeout(() => { this.resetForm(); }, 500);
                        }
                    });
                }
            },

            resetForm() {
                this.elements.formContent.classList.remove('hidden');
                this.elements.successPanel.classList.add('hidden');
                this.elements.contactForm.reset();
                this.elements.formPanel.style.opacity = '';
                this.state.formStep = 1;
                this.updateFormStepView();
                this.elements.formChoiceBtns.forEach(btn => btn.classList.remove('selected'));
            },

            initSparks() {
                setTimeout(() => {
                    console.log("initspark--1")
                    this.initCodeRain();
                    console.log("initspark--2")
                    this.initParticleNexus();
                    console.log("initspark--3")
                    this.initPhysicsInterface();
                    console.log("initspark--4")
                    this.initGLSLEditor();
                    console.log("initspark--5")
                    this.initSvgMorph();
                    console.log("initspark--6")
                    this.initWasmDemo();
                    console.log("initspark--7")
                }, 1);
            },

            initCodeRain() {
                const canvas = document.getElementById('code-rain-canvas');
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                const container = canvas.parentElement;
                
                let animationFrameId;

                const resize = () => {
                    canvas.width = container.clientWidth;
                    canvas.height = container.clientHeight;
                }
                resize();
                window.addEventListener('resize', this.debounce(resize, 200));

                const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890@#$%^&*()';
                const fontSize = 14;
                const columns = canvas.width / fontSize;
                const drops = Array(Math.floor(columns)).fill(1);

                function draw() {
                    ctx.fillStyle = 'rgba(2, 6, 23, 0.1)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    ctx.fillStyle = '#A78BFA';
                    ctx.font = fontSize + 'px monospace';

                    for(let i = 0; i < drops.length; i++) {
                        const text = letters.charAt(Math.floor(Math.random() * letters.length));
                        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                        
                        if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                            drops[i] = 0;
                        }
                        drops[i]++;
                    }
                }

                function animate() {
                    draw();
                    animationFrameId = requestAnimationFrame(animate);
                }
                animate();
            },

initParticleNexus() {
                // Simplified WebGL-like effect with Canvas 2D for performance and simplicity
                const container = document.getElementById('particle-nexus-container');
                const canvas = document.createElement('canvas');
                container.appendChild(canvas);
                const ctx = canvas.getContext('2d');
                let width = canvas.width = container.clientWidth;
                let height = canvas.height = container.clientHeight;
                let particles = [];
                const particleCount = 500;
                const mouse = { x: width / 2, y: height / 2, radius: 100 };

                container.addEventListener('mousemove', e => {
                    const rect = container.getBoundingClientRect();
                    mouse.x = e.clientX - rect.left;
                    mouse.y = e.clientY - rect.top;
                });
                 container.addEventListener('mouseleave', () => {
                    mouse.x = width / 2;
                    mouse.y = height / 2;
                });
                
                class Particle {
                    constructor() {
                        this.x = Math.random() * width;
                        this.y = Math.random() * height;
                        this.size = Math.random() * 1.5 + 0.5;
                        this.vx = (Math.random() - 0.5) * 0.5;
                        this.vy = (Math.random() - 0.5) * 0.5;
                        this.color = `rgba(167, 139, 250, ${Math.random() * 0.5 + 0.5})`;
                    }
                    update() {
                        const dx = this.x - mouse.x;
                        const dy = this.y - mouse.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < mouse.radius) {
                            const force = (mouse.radius - dist) / mouse.radius;
                            this.x -= (dx / dist) * force * 1.5;
                            this.y -= (dy / dist) * force * 1.5;
                        }
                        this.x += this.vx;
                        this.y += this.vy;
                        if(this.x < 0 || this.x > width) this.vx *= -1;
                        if(this.y < 0 || this.y > height) this.vy *= -1;
                    }
                    draw() {
                        ctx.fillStyle = this.color;
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }

                function initParticles() {
                    particles = [];
                    for(let i = 0; i < particleCount; i++) {
                        particles.push(new Particle());
                    }
                }
                
                function animate() {
                    ctx.clearRect(0, 0, width, height);
                    particles.forEach(p => {
                        p.update();
                        p.draw();
                    });
                    requestAnimationFrame(animate);
                }
                
                initParticles();
                animate();
                window.addEventListener('resize', () => {
                    width = canvas.width = container.clientWidth;
                    height = canvas.height = container.clientHeight;
                    initParticles();
                });
            },

initPhysicsInterface() {
                const container = document.getElementById('physics-container');
                if(!container) return;

                const Engine = Matter.Engine,
                    Render = Matter.Render,
                    Runner = Matter.Runner,
                    Bodies = Matter.Bodies,
                    Composite = Matter.Composite,
                    Mouse = Matter.Mouse,
                    MouseConstraint = Matter.MouseConstraint;

                const engine = Engine.create({ gravity: { y: 0.5 } });
                const render = Render.create({
                    element: container,
                    engine: engine,
                    options: {
                        width: container.clientWidth,
                        height: container.clientHeight,
                        wireframes: false,
                        background: 'transparent'
                    }
                });
                
                const brandColors = ['#8B5CF6', '#3B82F6', '#EC4899', '#F59E0B', '#10B981'];
                const shapes = [];
                for(let i=0; i<15; i++) {
                    const x = Math.random() * container.clientWidth;
                    const y = Math.random() * -200;
                    const color = brandColors[Math.floor(Math.random() * brandColors.length)];
                    if(Math.random() > 0.5) {
                        shapes.push(Bodies.rectangle(x, y, 40, 40, { render: { fillStyle: color } }));
                    } else {
                        shapes.push(Bodies.circle(x, y, 20, { render: { fillStyle: color } }));
                    }
                }

                const wallOptions = { isStatic: true, render: { visible: false } };
                const ground = Bodies.rectangle(container.clientWidth/2, container.clientHeight, container.clientWidth, 20, wallOptions);
                const leftWall = Bodies.rectangle(0, container.clientHeight/2, 20, container.clientHeight, wallOptions);
                const rightWall = Bodies.rectangle(container.clientWidth, container.clientHeight/2, 20, container.clientHeight, wallOptions);

                Composite.add(engine.world, [...shapes, ground, leftWall, rightWall]);

                // Mouse control
                const mouse = Mouse.create(render.canvas);
                const mouseConstraint = MouseConstraint.create(engine, {
                    mouse: mouse,
                    constraint: { stiffness: 0.2, render: { visible: false } }
                });
                Composite.add(engine.world, mouseConstraint);

                Render.run(render);
                const runner = Runner.create();
                Runner.run(runner, engine);
            },
            
            initGLSLEditor() {
                const codeEl = document.getElementById('glsl-code');
                const canvas = document.getElementById('glsl-canvas');
                if(!codeEl || !canvas) return;

                const defaultCode = `precision mediump float;
uniform vec2 u_resolution;
uniform float u_time;

void main() {
  vec2 st = gl_FragCoord.xy/u_resolution.xy;
  st.x *= u_resolution.x/u_resolution.y;
  
  vec3 color = vec3(0.);
  color = vec3(st.x,st.y,abs(sin(u_time)));
  
  gl_FragColor = vec4(color,1.0);
}`;
                codeEl.value = defaultCode;
                let gl, program;
                
                function compileAndRun() {
                    gl = canvas.getContext('webgl');
                    if (!gl) return;

                    const vertexShader = gl.createShader(gl.VERTEX_SHADER);
                    gl.shaderSource(vertexShader, 'attribute vec2 a_position; void main() { gl_Position = vec4(a_position, 0.0, 1.0); }');
                    gl.compileShader(vertexShader);

                    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
                    gl.shaderSource(fragmentShader, codeEl.value);
                    gl.compileShader(fragmentShader);

                    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {
                        console.error('Shader compile error:', gl.getShaderInfoLog(fragmentShader));
                        return;
                    }

                    program = gl.createProgram();
                    gl.attachShader(program, vertexShader);
                    gl.attachShader(program, fragmentShader);
                    gl.linkProgram(program);
                    gl.useProgram(program);
                    
                    const buffer = gl.createBuffer();
                    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
                    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), gl.STATIC_DRAW);
                    
                    const positionLocation = gl.getAttribLocation(program, 'a_position');
                    gl.enableVertexAttribArray(positionLocation);
                    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

                    render();
                }

                let startTime = Date.now();
                function render() {
                    if(!gl) return;
                    const u_resolution = gl.getUniformLocation(program, "u_resolution");
                    const u_time = gl.getUniformLocation(program, "u_time");

                    gl.uniform2f(u_resolution, gl.canvas.width, gl.canvas.height);
                    gl.uniform1f(u_time, (Date.now() - startTime) * 0.001);

                    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
                    requestAnimationFrame(render);
                }

                codeEl.addEventListener('keyup', this.debounce(compileAndRun, 500));
                compileAndRun();
            },
            
            initSvgMorph() {
                const svgEl = document.getElementById('morphing-svg');
                if(!svgEl) return;
                
                const paths = [
                    'M7 8L3 12L7 16', // Code
                    'M16 8L20 12L16 16',
                    'M10 20L14 4',
                    'M6 2L3 6V18C3 19.1 3.9 20 5 20H19C20.1 20 21 19.1 21 18V6L18 2H6Z', // Design (palette)
                    'M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2Z',
                    'M12 16.5C14.5 16.5 16.5 14.5 16.5 12S14.5 7.5 12 7.5 7.5 9.5 7.5 12 9.5 16.5 12 16.5Z',
                    'M5 12L19 12M12 5L12 19', // Rocket (simplified)
                    'M12 2L12 8',
                    'M8 20L16 20',
                    'M10 12L14 12'
                ];
                
                let currentPath = 0;
                function morphToNext() {
                    const targetPaths = [paths[currentPath % paths.length], paths[(currentPath+1) % paths.length]];
                    
                    anime({
                        targets: '#morphing-svg path',
                        d: targetPaths,
                        duration: 800,
                        easing: 'easeInOutSine',
                    });
                    currentPath++;
                }
                
                svgEl.innerHTML = `<path d="${paths[0]}"/>`;
                svgEl.addEventListener('click', morphToNext);
            },

            initWasmDemo() {
                const runJsBtn = document.getElementById('run-js');
                const runWasmBtn = document.getElementById('run-wasm');
                const resultEl = document.getElementById('wasm-result');
                if(!runJsBtn) return;
                
                const mandelbrotJS = (w, h, maxIter) => {
                    for(let y=0; y<h; ++y) {
                        for(let x=0; x<w; ++x) {
                            let cr = (x - w/2) * 4.0 / w;
                            let ci = (y - h/2) * 4.0 / w;
                            let zr = 0, zi = 0;
                            let iter = 0;
                            while(zr*zr + zi*zi < 4 && iter < maxIter) {
                                let temp = zr*zr - zi*zi + cr;
                                zi = 2*zr*zi + ci;
                                zr = temp;
                                iter++;
                            }
                        }
                    }
                }

                runJsBtn.addEventListener('click', () => {
                    resultEl.textContent = 'Calculating in JS...';
                    const startTime = performance.now();
                    mandelbrotJS(200, 200, 100);
                    const endTime = performance.now();
                    resultEl.innerHTML = `JS Time: <span class="text-amber-400">${(endTime-startTime).toFixed(2)}ms</span>`;
                });
                
                runWasmBtn.addEventListener('click', () => {
                    resultEl.textContent = 'Calculating in Wasm (Simulated)...';
                    const startTime = performance.now();
                    // Simulate Wasm being much faster
                    setTimeout(() => {
                        const endTime = performance.now();
                        resultEl.innerHTML = `Wasm Time: <span class="text-emerald-400">${((endTime - startTime) * 0.1).toFixed(2)}ms</span>`;
                    }, 50);
                });
            },

            // Form Logic
            changeFormStep(direction) {
                const newStep = this.state.formStep + direction;
                if(newStep < 1 || newStep > this.state.formTotalSteps) return;
                
                const currentStepEl = document.getElementById(`form-step-${this.state.formStep}`);
                if (direction > 0) {
                    const inputs = currentStepEl.querySelectorAll('input[required]');
                    let isValid = true;
                    inputs.forEach(input => {
                        if(!input.value) { input.classList.add('border-red-500'); isValid = false; } 
                        else { input.classList.remove('border-red-500'); }
                    });
                    if(!isValid) return;
                }
                
                if (newStep === 2) {
                    this.elements.userNameSpan.textContent = document.getElementById('full_name').value.split(' ')[0];
                }

                this.state.formStep = newStep;
                this.updateFormStepView();
            },
            
            updateFormStepView() {
                this.elements.formSteps.forEach(step => step.classList.remove('active'));
                document.getElementById(`form-step-${this.state.formStep}`).classList.add('active');
                this.elements.formProgressBar.style.width = `${(this.state.formStep / this.state.formTotalSteps) * 100}%`;
            },
            
            handleFormChoice(button) {
                document.getElementById('project_type').value = button.dataset.value;
                this.elements.formChoiceBtns.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                setTimeout(() => this.changeFormStep(1), 200);
            },

            updateBudgetValue(value) {
                const isIndia = this.state.visitorInfo?.country_code === 'IN';
                const currencySymbol = isIndia ? '‚Çπ' : '$';
                const finalValue = isIndia ? parseInt(value) : Math.round((parseInt(value) / 80) * this.config.priceMultiplier);
                
                this.elements.budgetValue.textContent = finalValue.toLocaleString();
                document.getElementById('budget').value = `${currencySymbol}${finalValue.toLocaleString()}`;
            },

            async initGeolocationAndPricing() {
                try {
                    const response = await fetch('https://ipapi.co/json/');
                    if (!response.ok) throw new Error('Failed to fetch geo IP');
                    this.state.visitorInfo = await response.json();
                } catch (error) {
                    console.warn('Could not fetch geolocation:', error);
                    this.state.visitorInfo = { country_code: 'IN', currency: 'INR', country_name: 'Unknown', city: 'Unknown' };
                } finally {
                    this.updatePricingDisplay();
                }
            },

            updatePricingDisplay() {
                 const isIndia = this.state.visitorInfo?.country_code === 'IN';
                 const currencySymbol = isIndia ? '‚Çπ' : '$';
                 this.elements.currencySymbol.textContent = currencySymbol;
                 this.updateBudgetValue(this.elements.budgetSlider.value);
            },
            
            initPortalCanvas() {
                if (!window.THREE) return;
                const canvas = this.elements.portalCanvas, scene = new THREE.Scene(), camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000), renderer = new THREE.WebGLRenderer({canvas, alpha: true});
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.position.z = 5;
                const pCount = 5000, pGeom = new THREE.BufferGeometry(), positions = new Float32Array(pCount*3);
                for(let i=0; i<pCount*3; i++) positions[i] = (Math.random()-0.5)*10;
                pGeom.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const pMat = new THREE.PointsMaterial({ size: 0.02, map: new THREE.TextureLoader().load('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxIDEiPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPg=='), blending: THREE.AdditiveBlending, transparent: true, opacity: 0, depthWrite: false, color: 0x8B5CF6 });
                const pSys = new THREE.Points(pGeom, pMat);
                this.three.portalParticles = pSys;
                scene.add(pSys);
                anime({ targets: pMat, opacity: 1, duration: 1000, easing: 'easeInQuad' });
                const clock = new THREE.Clock();
                const animate = () => { this.three.portalAnimationId = requestAnimationFrame(animate); pSys.rotation.y = clock.getElapsedTime()*0.1; renderer.render(scene, camera); };
                animate();
            },
            
            handleFormSubmit(e) {
                e.preventDefault();
                const form = e.target;
                if (!form.checkValidity()) { form.reportValidity(); return; }

                const friendlyData = Object.fromEntries(new FormData(form).entries());
                
                // Map user-friendly data to Google Form entry IDs
                document.querySelector('[name="entry.2111088084"]').value = friendlyData.full_name;
                document.querySelector('[name="entry.1876766686"]').value = friendlyData.email;
                document.querySelector('[name="entry.1402932116"]').value = friendlyData.project_type;
                document.querySelector('[name="entry.1892049098"]').value = friendlyData.budget;
                document.querySelector('[name="entry.2124744326"]').value = friendlyData.notes;
                
                if (this.state.visitorInfo) {
                    const { currency, country_name, city } = this.state.visitorInfo;
                    document.querySelector('[name="entry.1330106184"]').value = currency || 'N/A';
                    document.querySelector('[name="entry.878154817"]').value = country_name || 'N/A';
                    document.querySelector('[name="entry.1371636187"]').value = city || 'N/A';
                    friendlyData.country = `${city || 'Unknown City'}, ${country_name || 'Unknown Country'}`;
                    friendlyData.currency = currency || 'N/A';
                }

                this.state.lastSubmission = friendlyData; 
                
                this.elements.hiddenIframe.setAttribute('data-submitted', 'true');
                form.setAttribute('target', 'hidden_iframe');
                form.setAttribute('action', this.config.googleFormActionURL);
                form.submit();
            },

            handleFormSuccess() {
                this.elements.formContent.classList.add('hidden');
                this.elements.successPanel.classList.remove('hidden');
                this.sendThankYouEmail();
                this.elements.hiddenIframe.setAttribute('data-submitted', 'false');
            },

            sendThankYouEmail() {
                const { emailJsServiceId, emailJsTemplateId, emailJsPublicKey } = this.config;
                if (!emailJsServiceId) {
                    console.warn('EmailJS is not configured.');
                    this.elements.emailjsStatus.textContent = "We've received your request and will be in touch soon!";
                    return;
                }
                
                // Use the simplified variable names for the template
                const templateParams = {
                    to_name: this.state.lastSubmission.full_name,
                    to_email: this.state.lastSubmission.email,
                    ...this.state.lastSubmission
                };
                
                emailjs.init(emailJsPublicKey);
                emailjs.send(emailJsServiceId, emailJsTemplateId, templateParams)
                    .then(res => { 
                        console.log('EmailJS Success!', res.status, res.text); 
                        this.elements.emailjsStatus.textContent = 'A confirmation email is on its way to your inbox!'; 
                    })
                    .catch(err => { 
                        console.error('EmailJS Failed:', err); 
                        this.elements.emailjsStatus.textContent = "We couldn't send a confirmation email, but we've received your request!"; 
                    });
            },

            initProcessSection() { this.updateProcessView(1); },
            updateProcessView(step) {
                const stepElement = document.querySelector(`.process-step[data-step="${step}"]`);
                if (!stepElement) return;
                this.elements.processSteps.forEach(s => s.classList.remove('active'));
                stepElement.classList.add('active');
                this.elements.processProgressBar.style.width = stepElement.dataset.progress;
                const content = processData[step];
                this.elements.processContentContainer.innerHTML = `<h3 class="text-xl font-bold brand-gradient-text mb-2">${content.title}</h3><p class="text-slate-600 dark:text-slate-400">${content.description}</p>`;
            },
            trapFocus(element) {
                const focusableEls = element.querySelectorAll('button:not([disabled]), [href]:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled])');
                const first = focusableEls[0], last = focusableEls[focusableEls.length - 1];
                element.addEventListener('keydown', (e) => {
                    if (e.key !== 'Tab') return;
                    if (e.shiftKey) { if (document.activeElement === first) { last.focus(); e.preventDefault(); } }
                    else { if (document.activeElement === last) { first.focus(); e.preventDefault(); } }
                });
                first?.focus();
            },
            releaseFocus() { this.elements.fabMain.focus(); },
            debounce(func, delay) {
                let timeout;
                return (...args) => { clearTimeout(timeout); timeout = setTimeout(() => func.apply(this, args), delay); };
            },
        };
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            .differentiator-card { background-color: white; border-radius: 0.75rem; padding: 2rem; border: 1px solid #e2e8f0; transition: transform 0.3s ease, box-shadow 0.3s ease; }
            html.dark .differentiator-card { background-color: #0f172a; border-color: #1e293b; }
            .differentiator-card:hover { transform: translateY(-8px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }
            .card-icon { font-size: 2.25rem; line-height: 2.5rem; margin-bottom: 1rem; }
            .card-title { font-weight: 700; font-size: 1.25rem; margin-bottom: 0.5rem; color: #1e293b; }
            html.dark .card-title { color: #e2e8f0; }
            .card-description { font-size: 1rem; color: #475569; }
            html.dark .card-description { color: #94a3b8; }
            .spark-card { background-color: white; border-radius: 0.75rem; padding: 0; border: 1px solid #e2e8f0; transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; overflow: hidden;}
            html.dark .spark-card{ background-color: #0f172a; border-color: #1e293b; }
            .spark-card:hover{ transform: translateY(-8px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }
            .spark-title { font-weight: 600; font-size: 1rem; margin-bottom: 0; color: #1e293b; text-align: left; padding: 0.75rem 1rem; border-bottom: 1px solid #e2e8f0;}
            html.dark .spark-title { color: #e2e8f0; border-color: #1e293b; }
            .testimonial-card { background-color: white; border-radius: 0.75rem; padding: 1.5rem; border: 1px solid #e2e8f0; width: 380px; flex-shrink: 0; margin: 0 1rem;}
            html.dark .testimonial-card { background-color: #1e293b; border-color: #334155; }
            .form-group label { display: block; font-weight: 500; font-size: 0.875rem; margin-bottom: 0.5rem; color: #94a3b8; }
            .form-group input, .form-group textarea { width: 100%; border-radius: 0.5rem; border: 1px solid #475569; background-color: #1e293b; color: #e2e8f0; padding: 0.75rem; transition: border-color 0.2s, box-shadow 0.2s; }
            .form-group input::placeholder, .form-group textarea::placeholder { color: #64748b; }
            .form-group input:focus, .form-group textarea:focus { outline: none; border-color: var(--color-brand-end); box-shadow: 0 0 0 2px var(--color-brand-end); }
            .fab-button { width: 48px; height: 48px; background-color: #e2e8f0; color: #475569; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
            html.dark .fab-button { background-color: #1e293b; color: #94a3b8; }
            .process-step { position: relative; display: flex; flex-direction: column; align-items: center; background: transparent; border: none; cursor: pointer; }
            .process-step .step-dot { width: 2.5rem; height: 2.5rem; border-radius: 50%; border: 2px solid #cbd5e1; background-color: #f1f5f9; display: flex; align-items: center; justify-content: center; font-weight: bold; transition: all 0.3s ease; }
            html.dark .process-step .step-dot { border-color: #475569; background-color: #0f172a; }
            .process-step .step-label { margin-top: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #64748b; transition: color 0.3s ease; }
            .process-step.active .step-dot, .process-step:hover .step-dot { border-color: transparent; background-image: linear-gradient(90deg, var(--color-brand-start), var(--color-brand-end)); color: white; transform: scale(1.1); }
            .process-step.active .step-label { color: #0f172a; }
            html.dark .process-step.active .step-label { color: #f1f5f9; }
            .form-next-btn, #form-submit-btn { padding: 0.75rem 1.5rem; font-weight: 600; color: white; border-radius: 0.5rem; background-image: linear-gradient(90deg, var(--color-brand-start), var(--color-brand-end)); transition: all 0.2s ease; }
            .form-prev-btn { padding: 0.75rem 1.5rem; font-weight: 600; color: #cbd5e1; border-radius: 0.5rem; background-color: #334155; transition: all 0.2s ease; }
            .form-choice-btn { padding: 1rem; font-weight: 600; display:flex; flex-direction:column; gap:0.5rem; align-items:center; justify-content:center; color: #cbd5e1; border-radius: 0.5rem; background-color: #1e293b; border: 2px solid #334155; transition: all 0.2s ease; }
            .form-choice-btn.selected, .form-choice-btn:hover { color: white; border-color: var(--color-brand-end); background-color: #334155; }
            input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: var(--color-brand-start); cursor: pointer; border-radius: 50%;}
            input[type=range]::-moz-range-thumb { width: 20px; height: 20px; background: var(--color-brand-start); cursor: pointer; border-radius: 50%;}
        `;
        document.head.appendChild(styleSheet);
        App.init();


        window.addEventListener('load' , () =>
        {
            document.querySelector("#preloader").style.display = 'none' ;
        })




    </script>
</body>
</html>